!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor({container:e=null,btns:t=null,next:i=null,prev:s=null,activeClass:n="",animate:l=!1,autoplay:r=!1}={}){this.container=document.querySelector(e),this.slides=[],this.btns=document.querySelectorAll(t),this.prev=document.querySelectorAll(s),this.next=document.querySelectorAll(i),this.activeClass=n,this.animate=l,this.autoplay=r,this.slideIndex=1;try{for(let e=0;e<this.container.children.length;e++)"BUTTON"!=this.container.children[e].tagName&&this.slides.push(this.container.children[e])}catch(e){}}}class n extends s{constructor(e,t,i){super(e,t,i)}showSlides(e){e>this.slides.length&&(this.slideIndex=1),e<1&&(this.slideIndex=this.slides.length);try{this.hanson.style.opacity="0",3===e?(this.hanson.classList.add("animated"),setTimeout(()=>{this.hanson.style.opacity="1",this.hanson.classList.add("slideInUp")},3e3)):this.hanson.classList.remove("slideInUp")}catch(e){}this.slides.forEach(e=>{e.style.display="none"});try{this.slides[this.slideIndex-1].style.display="block"}catch(e){}}plusSlides(e){this.showSlides(this.slideIndex+=e)}triggersSlideChange(e,t){try{e.forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.plusSlides(t)})})}catch(e){}}bindTriggers(){this.btns.forEach(e=>{e.addEventListener("click",()=>{this.plusSlides(1)}),e.parentNode.previousElementSibling.addEventListener("click",e=>{e.preventDefault(),this.slideIndex=1,this.showSlides(this.slideIndex)})}),this.triggersSlideChange(this.prev,-1),this.triggersSlideChange(this.next,1)}render(){if(this.container){try{this.hanson=document.querySelector(".hanson")}catch(e){}this.showSlides(this.slideIndex),this.bindTriggers()}}}class l extends s{constructor(e,t,i,s,n,l){super(e,t,i,s,n,l),this.index=0}decorizeSlides(){this.slides.forEach(e=>{e.classList.remove(this.activeClass),this.animate&&(e.querySelector(".card__title").style.opacity="0.4",e.querySelector(".card__controls-arrow").style.opacity="0")}),this.slides[this.index].classList.add(this.activeClass),this.animate&&(this.slides[this.index].querySelector(".card__title").style.opacity="1",this.slides[this.index].querySelector(".card__controls-arrow").style.opacity="1")}nextSlide(){this.container.appendChild(this.slides[this.index]),this.index>=this.slides.length-1?this.index=0:this.index++,this.decorizeSlides()}console(){console.log(this.slides),console.log(this.index),console.log(this.autoplay)}bindTriggers(){this.next.forEach(e=>{e.addEventListener("click",()=>this.nextSlide())}),this.prev.forEach(e=>{e.addEventListener("click",()=>{0==this.index?(this.container.prepend(this.slides[this.slides.length-1]),this.index=this.slides.length-1):(this.container.prepend(this.slides[this.index-1]),this.index--),this.decorizeSlides()})})}init(){try{this.container.style.cssText="\n            display: flex;\n            flex-wrap: wrap;\n            overflow: hidden;\n            align-items: flex-start;\n            ",this.bindTriggers(),this.decorizeSlides(),this.autoplay&&setInterval(()=>this.nextSlide(),5e3)}catch(e){}}}class r{constructor(e,t){this.btns=document.querySelectorAll(e),this.overlay=document.querySelector(t),this.close=this.overlay.querySelector(".close"),this.onPlayerStateChange=this.onPlayerStateChange.bind(this)}bindTriggers(){this.btns.forEach((e,t)=>{try{const i=e.closest(".module__video-item").nextElementSibling;t%2==0&&i.setAttribute("data-disabled","true")}catch(e){}e.addEventListener("click",()=>{e.closest(".module__video-item")&&"true"===e.closest(".module__video-item").getAttribute("data-disabled")||(this.activeBtn=e,document.querySelector("iframe#frame")?(this.overlay.style.display="flex",this.path!==e.getAttribute("data-url")&&(this.path=e.getAttribute("data-url"),this.player.loadVideoById({videoId:this.path}))):(this.path=e.getAttribute("data-url"),this.createPlayer(this.path)))})})}bindCloseBtn(){this.close.addEventListener("click",()=>{this.overlay.style.display="none",this.checkVideoClose()})}checkVideoClose(){"none"==this.overlay.style.display&&this.player.stopVideo()}createPlayer(e){this.player=new YT.Player("frame",{height:"100%",width:"100%",videoId:""+e,events:{onStateChange:this.onPlayerStateChange}}),this.overlay.style.display="flex"}onPlayerStateChange(e){try{const t=this.activeBtn.closest(".module__video-item").nextElementSibling,i=this.activeBtn.querySelector("svg").cloneNode(!0);0===e.data&&t.querySelector(".play__circle").classList.contains("closed")&&(t.querySelector(".play__circle").classList.remove("closed"),t.querySelector("svg").remove(),t.querySelector(".play__circle").appendChild(i),t.querySelector(".play__text").textContent="play video",t.querySelector(".play__text").classList.remove("attention"),t.style.opacity=1,t.style.filter="none",t.setAttribute("data-disabled","false"))}catch(e){}}init(){if(this.btns.length>0){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.bindTriggers(),this.bindCloseBtn()}}}class o{constructor(e,t,i){try{this.oldOfficer=document.querySelector(e),this.newOfficer=document.querySelector(t),this.oldItems=this.oldOfficer.querySelectorAll(i),this.newItems=this.newOfficer.querySelectorAll(i),this.oldCounter=0,this.newCounter=0}catch(e){}}bindTriggers(e,t,i){e.querySelector(".plus").addEventListener("click",()=>{t!==i.length-2?(i[t].style.display="flex",t++):(i[t].style.display="flex",i[i.length-1].remove())})}hideItems(e){e.forEach((e,t,i)=>{t!==i.length-1&&(e.style.display="none")})}init(){try{this.hideItems(this.oldItems),this.hideItems(this.newItems),this.bindTriggers(this.newOfficer,this.newCounter,this.newItems),this.bindTriggers(this.oldOfficer,this.oldCounter,this.oldItems)}catch(e){}}}class a{constructor(e){this.forms=document.querySelectorAll(e),this.inputs=document.querySelectorAll("input"),this.message={loading:"Загрузка",success:"Спасибо! Скоро мы с вами свяжемся",failure:"Что то плшло не так..."},this.path="assets/question.php"}clearInputs(){this.inputs.forEach(e=>{e.value=""})}checkMailInputs(){document.querySelectorAll('[type="email"]').forEach(e=>{e.addEventListener("keypress",(function(e){e.key.match(/[^a-z 0-9 @ \.]/gi)&&e.preventDefault()}))})}initMask(){function e(e){let t=0,i="+1 (___) __-___".replace(/\D/g,""),s=this.value.replace(/\D/g,"");i.length>=s.length&&(s=i),this.value="+1 (___) __-___".replace(/./g,(function(e){return/[_\d]/.test(e)&&t<s.length?s.charAt(t++):t>=s.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}})(this.value.length,this)}document.querySelectorAll('[name="phone"]').forEach(t=>{t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blure",e)})}async postData(e,t){let i=await fetch(e,{method:"POST",body:t});return await i.text()}init(){this.checkMailInputs(),this.initMask(),this.forms.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();let i=document.createElement("div");i.style.cssText="\n                    margin-top: 15px;\n                    font-size: 18px;\n                    color: grey;\n                ",e.parentNode.appendChild(i),i.textContent=this.message.loading;const s=new FormData(e);this.postData(this.path,s).then(e=>{console.log(e),i.textContent=this.message.success}).catch(()=>{i.textContent=this.message.failure}).finally(()=>{this.clearInputs(),setTimeout(()=>{i.remove()},5e3)})})})}}class c{constructor(e){this.btn=document.querySelectorAll(e)}init(){this.btn.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".module__info-show").nextElementSibling;t.classList.add("animated","fadeInRight"),t.classList.toggle("msg"),t.style.marginTop="20px"})})}}class d{constructor(e){this.btns=document.querySelectorAll(e),this.path="assets/img/mainbg.jpg"}downloadItem(e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","nice_picture"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}init(){this.btns.forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation(),this.downloadItem(this.path)})})}}window.addEventListener("DOMContentLoaded",()=>{new n({btns:".next",container:".page"}).render();new n({container:".moduleapp",btns:".next",prev:".prevmodule",next:".nextmodule"}).render();new l({container:".showup__content-slider",prev:".showup__prev",next:".showup__next",activeClass:"card-active",animate:!0}).init();new l({container:".modules__content-slider",prev:".modules__info-btns .slick-prev",next:".modules__info-btns .slick-next",activeClass:"card-active",animate:!0,autoplay:!0}).init();new l({container:".feed__slider",prev:".feed__slider .slick-prev",next:".feed__slider .slick-next",activeClass:"feed__item-active"}).init(),new r(".showup .play",".overlay").init(),new r(".module__video-item .play",".overlay").init(),new o(".officerold",".officernew",".officer__card-item").init(),new a(".form").init(),new c(".module__info-show .plus").init(),new d(".download").init()})}]);